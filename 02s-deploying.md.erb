---
title: การดีพลอยขึ้นเว็บ
slug: deploying
date: 0002/01/02
number: 2.5
sidebar: true
contents: รู้วิธีดีพลอยไปที่ Meteor.com|รู้วิธีดีพลอยไปที่ Modulus|รู้วิธีดีพลอยขึ้นเซิร์ฟเวอร์ของคุณเองด้วย Meteor Up
paragraphs: 46
---

คนบางคนชอบที่จะทำงานเงียบๆ จนกว่าโครงการจะเสร็จสมบูรณ์ ในขณะที่คนอื่นๆ อดใจรอไม่ไหวที่จะแสดงให้โลกรับรู้ในทันทีที่ทำได้

ถ้าคุณเป็นคนจำพวกแรก และในตอนนี้ต้องการแค่สร้างแอพบนเครื่องตัวเอง ก็สามารถข้ามบทนี้ไปได้ แต่ถ้าคุณยอมเสียเวลาซักนิดเพื่อเรียนรู้วิธีการดีพลอยแอพ Meteor ของคุณให้ขึ้นไปทำงานบนเว็บ เราก็พร้อมจะสอนให้

โดยเราจะมาเรียนวิธีการดีพลอยแอพ Meteor หลายๆแบบ ซึ่งคุณสามารถนำแบบไหนไปใช้ก็ได้ในระหว่างที่คุณกำลังสร้างแอพ ไม่ว่าคุณกำลังสร้างแอพ Microscope หรือแอพ Meteor ตัวอื่นๆ ถ้าพร้อมแล้วก็มาเริ่มกันเลย!

<% note do %>

### รู้จักบทเสริมพิเศษกัน

บทเรียนนี้เป็น  **บทเสริมพิเศษ (sidebar)** ซึ่งเจาะลึกลงไปในเรื่องของ Meteor มากขึ้นและเนื้อหาก็แยกออกมาจากเรื่องอื่นในหนังสือ  

ดังนั้นถ้าคุณต้องการจะสร้างแอพ Microscope คุณก็สามารถข้ามบทนี้ไปก่อนได้ แล้วค่อยกลับมาอ่านอีกครั้ง

<% end %>

### ดีพลอยไปที่ Meteor

การดีพลอยไปที่โดเมนย่อยของ Meteor (เช่น `http://myapp.meteor.com`) เป็นทางเลือกที่ง่ายที่สุด และเป็นวิธีแรกที่เราจะลองกัน วิธีนี้ช่วยให้คุณสามารถโชว์แอพให้คนอื่นๆเห็นได้ตั้งแต่ตอนเริ่มทำ หรือใช้เพื่อทำเป็นเซิร์ฟเวอร์ทดสอบชั่วคราวก่อนนำไปใช้งานจริงก็ได้

ดีพลอยไปที่ Meteor นั้นง่ายมาก แค่เปิดเทอร์มินอล แล้วไปที่โฟลเดอร์แอพ Meteor ของคุณ จากนั้นก็พิมพ์ :

~~~bash
meteor deploy myapp.meteor.com
~~~

โดยคุณต้องเปลี่ยนชื่อ "myapp" ด้วยชื่อที่คุณเลือกไว้ และยังไม่มีใครเอาไปใช้

ถ้าคุณทำการดีพลอยเป็นครั้งแรก คุณจะถูกขอให้สร้างบัญชีผู้ใช้ที่ Meteor เมื่อคุณดำเนินการเสร็จ ไม่กี่วินาทีหลังจากนั้นคุณก็สามารถเรียกใช้แอพของคุณได้ที่ `http://myapp.meteor.com`

ทั้งนี้คุณสามารถใช้ [หน้าเอกสารหลักของ Meteor](http://docs.meteor.com/#deploying) เพื่อค้นหาข้อมูลเพิ่มเติม เช่น การเข้าถึงฐานข้อมูลที่แอพคุณกำลังใช้ หรือการใช้ชื่อโดเมนอื่นกับแอพของคุณ


### ดีพลอยไปที่ Modulus

[Modulus](https://modulus.io/) เป็นทางเลือกที่เยี่ยมอันหนึ่งในการดีพลอยแอพ Node.js ทั้งยังเป็นหนึ่งในไม่กี่ตัวซึ่งเป็น Paas  (platform-as-a-service) ที่รองรับการใช้งาน Meteor อย่างเป็นทางการ และก็มีบางคนรันแอพที่ใช้งานจริงอยู่บนนั้นด้วย

<% note do %>

### Demeteorizer

เครื่องมือแบบโอเพนซอร์สที่ชื่อ [demeteorizer](https://github.com/onmodulus/demeteorizer) จะช่วยแปลงแอพ Meteor ของคุณให้กลายเป็นแอพของ Node.js ได้

<% end %>

เราเริ่มด้วยการ [สร้างบัญชีผู้ใช้](https://modulus.io/register) จากนั้นก็ติดตั้งโปรแกรมคอมมานด์ไลน์ของ Modulus เพื่อใช้ดีพลอยแอพ :

~~~bash
npm install -g modulus
~~~

แล้วล็อกอินเข้า Modulus

~~~bash
modulus login
~~~

จากนั้นก็สร้างโปรเจกต์ Modulus ขึ้นมาตัวนึง (ซึ่งคุณสามารถทำผ่านที่หน้าเว็บของ Modulus ได้)

~~~bash
modulus project create
~~~

ขั้นตอนต่อไปคือ การสร้างฐานข้อมูล MongoDB ให้แอพเรา โดยเราสามารถเลือกสร้างฐานข้อมูล MongoDB ที่ [Modulus เอง](http://help.modulus.io/customer/portal/articles/1647770-using-meteor-with-modulus), ที่ [Compose](https://www.compose.io/)  หรือที่ผู้ให้บริการฐานข้อมูล MongoDB เจ้าอื่นก็ได้

เมื่อเราสร้างฐานข้อมูล MongoDB ได้แล้ว เราก็ไปเอาค่า `MONGO_URL` ของฐานข้อมูลเราจากหน้าเว็บของ Modulus (ไปที่ Dashboard > Databases > Select your database > Administration) และนำมาใช้ตั้งค่าแอพเราดังนี้

~~~bash
modulus env set MONGO_URL "mongodb://<user>:<pass>@mongo.onmodulus.net:27017/<database_name>"
~~~

ตอนนี้ก็ถึงเวลาที่เราจะดีพลอยแอพแล้ว แค่ป้อนคำสั่งนี้เข้าไป

~~~bash
modulus deploy
~~~

เราก็ได้ดีพลอยแอพไปที่ Modulus เป็นที่เรียบร้อย โดยใน [หน้าเอกสารของ Modulus ](https://modulus.io/codex/projects)  จะมีคำอธิบายเพิ่มเติมในเรื่อง การเข้าไปดู Log, การใช้ชื่อโดเมนอื่น, และเรื่อง SSL

### Meteor Up

////

////

////

////

### Initializing Meteor Up

////

~~~bash
npm install -g mup
~~~

////

////

////

~~~bash
mkdir ~/microscope-deploy
cd ~/microscope-deploy
mup init
~~~

<% note do %>

### Sharing with Dropbox

////

<% end %>

### Meteor Up Configuration

////

////

////

~~~js
{
  //server authentication info
  "servers": [{
    "host": "hostname",
    "username": "root",
    "password": "password"
    //or pem file (ssh based authentication)
    //"pem": "~/.ssh/id_rsa"
  }],

  //install MongoDB in the server
  "setupMongo": true,

  //location of app (local directory)
  "app": "/path/to/the/app",

  //configure environmental
  "env": {
    "ROOT_URL": "http://supersite.com"
  }
}
~~~
<%= caption "mup.json" %>

////

**Server Authentication**

////

////

**MongoDB Configuration**

////

////

**Meteor App Path**

////

**Environment Variables**

////

### Setting Up and Deploying

////

~~~bash
mup setup
~~~

////

~~~bash
mup deploy
~~~

////

### Displaying Logs

////

~~~bash
mup logs -f
~~~

////

////
